/* 
   Expected output values
0.417596820554
0.479731005221
0.769500936409
0.35448625636
0.424374320036
0.134125860435
0.564154054224
0.687771482965
0.758779163252
0.448126494974
0.923847171801
0.464614622024
0.04658732196
0.817496400617
0.624997639349
0.113986927956
0.836423843876
0.599622793951
0.672153561127
0.220915532097
0.572482406041
0.586514383752
0.689860509181
0.607379426212
0.564406179984
0.220153168731
0.925170783191
0.406876619011
0.318156732088
0.896261449326
0.073981296352
0.719195877733
0.267077167215
0.180443309389
0.243008640369
0.604772910257
0.0990900113101
0.291098377797
0.418826968955
0.0258230040088
0.747894134269
0.0389752581874
0.647544684345
0.482697915868
0.827790678529
0.740881956822
0.00747280643781
0.260127884934
0.575606106949
0.682796699504
0.494505353063
0.115433079414
0.831264792633
0.467152113437
0.69661099337
0.259110049084
0.270491588966
0.137139399299
0.687504906389
0.138489444132
0.819969466408
0.352448606779
0.177433859513
0.632128347421
0.89967156913
0.331870365667
0.408599822728
0.364772658272
0.879879786188
0.0292944458922
0.313034987289
0.999618108437
0.191494800497
0.288741254646
0.447281358205
0.667787307558
0.0336727344329
0.421055838074
0.581922615698
0.80557121451
0.811935900589
0.609451478894
0.519457387588
0.597864662434
0.096723225119
0.789070693448
0.494756797483
0.173618627413
0.986504193804
0.252316767612
0.576078964063
0.170434857773
0.282955981243
0.233528888229
0.971776356398
0.331678604039
0.238599978155
0.0471724771161
0.685718302135
0.538973278707
*/

        #include "apmacros.h"
	.text
	.type	fcvt_p_d, @function
fcvt_p_d:
	# Make FPU usable
	li	t0, MSTATUS_FS
	csrs	mstatus, t0

	# Define precision
	li	x7, 200
	csrrw	x0, 6, x7
	# and rounding mode
	csrrwi	x0, 2, MPFR_RNDD
	la	s0, x
	addi	s1,s0,800
        la      t0, y
.L2:
	fld	fa0,0(s0)
	addi	s0,s0,8
	fcvt_p_d(p0, fa0, MPFR_RNDD);
        fsp     (p0, 0, t0)
        flp     (p1, 0, t0)
        fcvt_d_p(fa1, p1, MPFR_RNDD);
	addi	t0,t0,40
	bne	s0,s1,.L2
	li t3, 0x100000
	li t4, 0x5555
	sw t4, 0(t3)
1:	j 1b

	.globl	x
	.globl	y

	.data

	.align	3
	.type	y, @object
	.size	y, 100 * 40
y:	.zero	100 * 40

	.align	3
	.type	x, @object
	.size	x, 800
x:
	.word	63724105
	.word	1071299048
	.word	2895333924
	.word	1071559657
	.word	1837352680
	.word	1072209856
	.word	528262824
	.word	1071034343
	.word	3899934565
	.word	1071327474
	.word	1141825321
	.word	1069624073
	.word	3449391186
	.word	1071779212
	.word	1464768599
	.word	1072038457
	.word	1029814008
	.word	1072187371
	.word	3222837923
	.word	1071427098
	.word	4054607228
	.word	1072533543
	.word	4155869417
	.word	1071496254
	.word	544468394
	.word	1067965003
	.word	908586342
	.word	1072310510
	.word	211982552
	.word	1071906811
	.word	1337857619
	.word	1069362751
	.word	4024522831
	.word	1072350203
	.word	608081159
	.word	1071853596
	.word	794674650
	.word	1072005704
	.word	3435429024
	.word	1070352117
	.word	2674878553
	.word	1071796678
	.word	3491440223
	.word	1071826105
	.word	1488420712
	.word	1072042838
	.word	4202365002
	.word	1071869862
	.word	2358649175
	.word	1071779741
	.word	2716318636
	.word	1070345722
	.word	3256919107
	.word	1072536319
	.word	990523883
	.word	1071254084
	.word	232029710
	.word	1070881966
	.word	2108729813
	.word	1072475692
	.word	811136855
	.word	1068691568
	.word	315162623
	.word	1072104359
	.word	3568080775
	.word	1070667722
	.word	810404668
	.word	1070012612
	.word	964943930
	.word	1070537448
	.word	3085037591
	.word	1071864396
	.word	2247092490
	.word	1069112822
	.word	388211220
	.word	1070768475
	.word	2710965457
	.word	1071304207
	.word	1993285792
	.word	1067086168
	.word	2918303584
	.word	1072164543
	.word	2794011760
	.word	1067709584
	.word	2705243071
	.word	1071954095
	.word	3433039583
	.word	1071572101
	.word	3766937357
	.word	1072332098
	.word	332916534
	.word	1072149838
	.word	875027702
	.word	1065262030
	.word	1839492471
	.word	1070638575
	.word	2140613029
	.word	1071803229
	.word	1992685350
	.word	1072028024
	.word	3351678889
	.word	1071621625
	.word	3035999988
	.word	1069387013
	.word	2673187135
	.word	1072339384
	.word	4200466260
	.word	1071506897
	.word	592567542
	.word	1072056995
	.word	1354259957
	.word	1070634306
	.word	4095536716
	.word	1070682043
	.word	2843589552
	.word	1069649352
	.word	1243150384
	.word	1072037898
	.word	2830217011
	.word	1069660677
	.word	2604538906
	.word	1072315696
	.word	2582166923
	.word	1071025796
	.word	401071038
	.word	1069987367
	.word	979470062
	.word	1071921765
	.word	131185987
	.word	1072482844
	.word	868436206
	.word	1070939485
	.word	3740346750
	.word	1071261311
	.word	1802515666
	.word	1071077487
	.word	2806175881
	.word	1072441337
	.word	4231981637
	.word	1067319132
	.word	3862576625
	.word	1070860483
	.word	495402451
	.word	1072692447
	.word	3502148709
	.word	1070105318
	.word	2574088732
	.word	1070758588
	.word	4251350461
	.word	1071423553
	.word	2094311415
	.word	1071996547
	.word	2052061508
	.word	1067531661
	.word	798250297
	.word	1071313556
	.word	761739474
	.word	1071816476
	.word	1218276388
	.word	1072285501
	.word	4285484105
	.word	1072298848
	.word	1665869680
	.word	1071874208
	.word	426468560
	.word	1071685477
	.word	311611852
	.word	1071849909
	.word	1889949200
	.word	1069073114
	.word	785574687
	.word	1072250897
	.word	1781166475
	.word	1071622680
	.word	2606468382
	.word	1069955362
	.word	1043867948
	.word	1072664945
	.word	977801197
	.word	1070605813
	.word	651300216
	.word	1071804221
	.word	907927954
	.word	1069928655
	.word	1734958223
	.word	1070734323
	.word	1288614293
	.word	1070457926
	.word	3132632230
	.word	1072634058
	.word	3846723867
	.word	1070938680
	.word	2944418516
	.word	1070500465
	.word	2901953639
	.word	1067984637
	.word	2185103350
	.word	1072034151
	.word	3819887831
	.word	1071726404
	.ident	"GCC: (Debian 9.3.0-13) 9.3.0"
	.section	.note.GNU-stack,"",@progbits
